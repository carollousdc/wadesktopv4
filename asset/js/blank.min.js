var masterlink="mastermenu",table;$((function(){$("#tbl_data").on("click",".btn_hapus",(function(){var id=$(this).attr("data-id"),status;confirm("Yakin ingin menghapus?")&&$.ajax({url:link+"/hapusData",type:"POST",data:{id:id},success:function(response){$("#tbl_data").DataTable().ajax.reload(null,!1)}})})),$("#tombol-simpan").click((function(){var data=$("#form-submit").serialize();console.log(data),$.ajax({type:"POST",url:link+"/tambahData",data:data,success:function(response){console.log(response),$('input[name="id"]').val(""),$('input[name="email"]').val(""),$('input[name="firstname"]').val(""),$('input[name="lastname"]').val(""),$('input[name="password"]').val(""),$("#tbl_data").DataTable().ajax.reload(null,!1)}})})),$("#tbl_data").on("click",".btn_edit",(function(){var id=$(this).attr("data-id");$.ajax({url:link+"/ambilDataById",type:"POST",data:{id:id},dataType:"json",success:function(response){$("#editModal").modal("show"),$('input[name="id_edit"]').val(response[0].id),$('input[name="email_edit"]').val(response[0].email),$('input[name="firstname_edit"]').val(response[0].firstname),$('input[name="lastname_edit"]').val(response[0].lastname),$("#tbl_data").DataTable().ajax.reload(null,!1)}})})),$("#btn_update_data").on("click",(function(){var id=$('input[name="id_edit"]').val(),email=$('input[name="email_edit"]').val(),firstname=$('input[name="firstname_edit"]').val(),lastname=$('input[name="lastname_edit"]').val();$.ajax({url:link+"/perbaruiData",type:"POST",data:{id:id,email:email,firstname:firstname,lastname:lastname},success:function(response){$('input[name="id_edit"]').val(""),$('input[name="email_edit"]').val(""),$('input[name="firstname_edit"]').val(""),$('input[name="lastname_edit"]').val(""),$("#editModal").modal("hide"),$("#tbl_data").DataTable().ajax.reload(null,!1)}})}))})),$((function(){var loc=window.location.pathname;$("#nav").find("#"+link).each((function(){$(this).addClass("nav-link active",$(this).attr("href")==loc)})),$("#nav").find("#"+masterlink).each((function(){$(this).addClass("nav-link active",$(this).attr("href")==loc)})),$("#nav").find("#"+masterlink+"1").each((function(){$(this).addClass("nav-item has-treeview menu-open",$(this).attr("href")==loc)}))})),$((function(){$(document).ready((function(){var link=$(location).attr("pathname");table=$("#tbl_data").DataTable({responsive:!0,processing:!0,serverSide:!0,autoWidth:!1,sScrollY:"300",sScrollX:"100%",bSort:!0,iDisplayLength:25,bLengthChange:!1,order:[],ajax:{url:link+"/get_data",type:"POST"},columnDefs:[{targets:[0,3],orderable:!1},{targets:-1,width:"200",orderable:!1}]})}))}));